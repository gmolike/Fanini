#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-commit checks..."

# Run lint-staged
npx lint-staged

# Run type checking
echo "ğŸ“ Checking TypeScript types..."
pnpm type-check

# Check for console.logs in production code
echo "ğŸ” Checking for console.logs..."
! grep -r "console\.\(log\|debug\|info\|warn\|error\)" --include="*.ts" --include="*.tsx" --exclude-dir="node_modules" --exclude-dir="dist" --exclude-dir=".git" frontend/src backend/src || echo "âš ï¸  Warning: console statements found"

echo "âœ… Pre-commit checks passed!"
